<div class="background-wrapper">
  <div class="cycle-container">
    <h2>ðŸš² Cycle Management</h2>

    <!-- Add Cycle Form -->
    <div class="form-container" *ngIf="role!=='Employee'">
      <input [(ngModel)]="newCycle.modelName" placeholder="Model Name">
      <input [(ngModel)]="newCycle.brand" placeholder="Brand">
      <input [(ngModel)]="newCycle.type" placeholder="Type">
      <input [(ngModel)]="newCycle.price" type="number" placeholder="Price">
      <input [(ngModel)]="newCycle.stock" type="number" placeholder="Stock">
      <button (click)="addCycle()">âž• Add Cycle</button>
    </div>

    <!-- Cycle Cards Grid -->
    <div class="cycle-grid">
      <div class="cycle-card" *ngFor="let cycle of cycles">
        <img [src]="cycle.imageUrl" alt="{{ cycle.modelName }}" class="cycle-image" />
        <h3>{{ cycle.modelName }}</h3>
        <p><strong>Brand:</strong> {{ cycle.brand }}</p>
        <p><strong>Type:</strong> {{ cycle.type }}</p>
        <p><strong>Price:</strong> â‚¹{{ cycle.price }}</p>
        <p><strong>Stock:</strong> {{ cycle.stock }}</p>

        <div *ngIf="role !== 'Employee'" class="card-actions">
          <button class="update" (click)="editCycle(cycle)">Update</button>
          <button class="delete" (click)="deleteCycle(cycle.id)">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal for Updating Cycle -->
<div class="modal-overlay" *ngIf="editingCycle">
  <div class="modal-content">
    <h3>Update Cycle</h3>

    <div class="modal-grid">
      <div class="field">
        <label>Model Name</label>
        <input [(ngModel)]="editingCycle.modelName" />
      </div>
      <div class="field">
        <label>Brand</label>
        <input [(ngModel)]="editingCycle.brand" />
      </div>
      <div class="field">
        <label>Type</label>
        <input [(ngModel)]="editingCycle.type" />
      </div>
      <div class="field">
        <label>Price</label>
        <input type="number" [(ngModel)]="editingCycle.price" />
      </div>
      <div class="field">
        <label>Stock</label>
        <input type="number" [(ngModel)]="editingCycle.stock" />
      </div>
    </div>

    <div class="modal-buttons">
      <button class="save-btn" (click)="saveCycle()">Save</button>
      <button class="cancel-btn" (click)="cancelEdit()">Cancel</button>
    </div>
  </div>
</div>

